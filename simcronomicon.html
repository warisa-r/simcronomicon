

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>simcronomicon package &mdash; simcronomicon 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=01f34227"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="simcronomicon.infection_models package" href="simcronomicon.infection_models.html" />
    <link rel="prev" title="Creating Custom Infection Models: Building an SIR Model" href="create_custom_infection.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            simcronomicon
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started with simcronomicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_blocks.html">Understanding Agent Behavior and Simulation Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_features_movement.html">Advanced Step Events and Movement Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_features_SEIQRDV.html">Advanced Simulation Features: SEIQRDV Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_custom_infection.html">Creating Custom Infection Models: Building an SIR Model</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">simcronomicon package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-simcronomicon.town">Town network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#simcronomicon.town.Town"><code class="docutils literal notranslate"><span class="pre">Town</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.town_graph"><code class="docutils literal notranslate"><span class="pre">Town.town_graph</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.town_params"><code class="docutils literal notranslate"><span class="pre">Town.town_params</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.epsg_code"><code class="docutils literal notranslate"><span class="pre">Town.epsg_code</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.point"><code class="docutils literal notranslate"><span class="pre">Town.point</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.dist"><code class="docutils literal notranslate"><span class="pre">Town.dist</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.all_place_types"><code class="docutils literal notranslate"><span class="pre">Town.all_place_types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.found_place_types"><code class="docutils literal notranslate"><span class="pre">Town.found_place_types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.accommodation_node_ids"><code class="docutils literal notranslate"><span class="pre">Town.accommodation_node_ids</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.from_files"><code class="docutils literal notranslate"><span class="pre">Town.from_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.from_point"><code class="docutils literal notranslate"><span class="pre">Town.from_point()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.Town.save_to_files"><code class="docutils literal notranslate"><span class="pre">Town.save_to_files()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#simcronomicon.town.TownParameters"><code class="docutils literal notranslate"><span class="pre">TownParameters</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.TownParameters.num_pop"><code class="docutils literal notranslate"><span class="pre">TownParameters.num_pop</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.TownParameters.num_init_spreader"><code class="docutils literal notranslate"><span class="pre">TownParameters.num_init_spreader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.town.TownParameters.spreader_initial_nodes"><code class="docutils literal notranslate"><span class="pre">TownParameters.spreader_initial_nodes</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#simcronomicon.town.classify_place"><code class="docutils literal notranslate"><span class="pre">classify_place()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#infection-models">Infection models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="simcronomicon.infection_models.html">simcronomicon.infection_models package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-simcronomicon.sim">Simulation structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#simcronomicon.sim.Simulation"><code class="docutils literal notranslate"><span class="pre">Simulation</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.sim.Simulation.folks"><code class="docutils literal notranslate"><span class="pre">Simulation.folks</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.sim.Simulation.town"><code class="docutils literal notranslate"><span class="pre">Simulation.town</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.sim.Simulation.model"><code class="docutils literal notranslate"><span class="pre">Simulation.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.sim.Simulation.step_events"><code class="docutils literal notranslate"><span class="pre">Simulation.step_events</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.sim.Simulation.active_node_indices"><code class="docutils literal notranslate"><span class="pre">Simulation.active_node_indices</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.sim.Simulation.status_dicts"><code class="docutils literal notranslate"><span class="pre">Simulation.status_dicts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simcronomicon.sim.Simulation.run"><code class="docutils literal notranslate"><span class="pre">Simulation.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#visualization">Visualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="simcronomicon.visualization.html">simcronomicon.visualization package</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">simcronomicon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">simcronomicon package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/simcronomicon.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="simcronomicon-package">
<h1>simcronomicon package<a class="headerlink" href="#simcronomicon-package" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="module-simcronomicon.town">
<span id="town-network"></span><h2>Town network<a class="headerlink" href="#module-simcronomicon.town" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="simcronomicon.town.Town">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simcronomicon.town.</span></span><span class="sig-name descname"><span class="pre">Town</span></span><a class="headerlink" href="#simcronomicon.town.Town" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Spatial network representation for agent-based epidemic modeling.</p>
<p>The Town class represents a spatial network derived from OpenStreetMap data,
where nodes correspond to places of interest (POIs) and edges represent
walkable paths between locations. This network serves as the environment
where agents move, interact, and undergo state transitions during simulation.</p>
<section id="purpose">
<h3>Purpose<a class="headerlink" href="#purpose" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Spatial Network Creation</strong>: Build a graph representation of urban areas
from OpenStreetMap data, including roads, buildings, and points of interest.</p></li>
<li><p><strong>Place Classification</strong>: Categorize locations into functional types
(accommodation, workplace, healthcare, etc.) that influence agent behavior.</p></li>
<li><p><strong>Agent Housing</strong>: Provide accommodation nodes where agents reside and
return to after each simulation timestep.</p></li>
<li><p><strong>Distance Calculation</strong>: Maintain shortest-path distances between all
locations to enable realistic agent movement patterns.</p></li>
<li><p><strong>Data Persistence</strong>: Save and load town networks to/from compressed
files for reuse across multiple simulations.</p></li>
</ol>
</section>
<section id="network-structure">
<h3>Network Structure<a class="headerlink" href="#network-structure" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Nodes</strong>: Represent places of interest with attributes including:</p>
<ul>
<li><p>place_type: Functional category of the location</p></li>
<li><p>x, y: Projected coordinates in the town’s coordinate system</p></li>
<li><p>folks: List of agents currently at this location</p></li>
</ul>
</li>
<li><p><strong>Edges</strong>: Represent walkable connections with attributes:</p>
<ul>
<li><p>weight: Shortest-path distance in meters between connected nodes</p></li>
</ul>
</li>
</ul>
</section>
<section id="place-types">
<h3>Place Types<a class="headerlink" href="#place-types" title="Link to this heading"></a></h3>
<p>The default classification system recognizes:
- accommodation: Residential buildings where agents live</p>
<ul class="simple">
<li><p>healthcare_facility: Hospitals, clinics, pharmacies</p></li>
<li><p>commercial: Shops, restaurants, banks</p></li>
<li><p>workplace: Offices, factories, industrial areas</p></li>
<li><p>education: Schools, universities</p></li>
<li><p>religious: Churches, mosques, temples</p></li>
<li><p>other: Unclassified locations (filtered out by default)</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.Town.town_graph">
<span class="sig-name descname"><span class="pre">town_graph</span></span><a class="headerlink" href="#simcronomicon.town.Town.town_graph" title="Link to this definition"></a></dt>
<dd><p>The spatial network with nodes representing locations and edges
representing shortest paths between them.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>networkx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.Town.town_params">
<span class="sig-name descname"><span class="pre">town_params</span></span><a class="headerlink" href="#simcronomicon.town.Town.town_params" title="Link to this definition"></a></dt>
<dd><p>Configuration parameters including population size and initial spreader locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#simcronomicon.town.TownParameters" title="simcronomicon.town.TownParameters">TownParameters</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.Town.epsg_code">
<span class="sig-name descname"><span class="pre">epsg_code</span></span><a class="headerlink" href="#simcronomicon.town.Town.epsg_code" title="Link to this definition"></a></dt>
<dd><p>EPSG coordinate reference system code for spatial projections.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.Town.point">
<span class="sig-name descname"><span class="pre">point</span></span><a class="headerlink" href="#simcronomicon.town.Town.point" title="Link to this definition"></a></dt>
<dd><p>Origin point [latitude, longitude] used to center the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.Town.dist">
<span class="sig-name descname"><span class="pre">dist</span></span><a class="headerlink" href="#simcronomicon.town.Town.dist" title="Link to this definition"></a></dt>
<dd><p>Radius in meters defining the network extent from the origin point.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.Town.all_place_types">
<span class="sig-name descname"><span class="pre">all_place_types</span></span><a class="headerlink" href="#simcronomicon.town.Town.all_place_types" title="Link to this definition"></a></dt>
<dd><p>Complete list of possible place type categories.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.Town.found_place_types">
<span class="sig-name descname"><span class="pre">found_place_types</span></span><a class="headerlink" href="#simcronomicon.town.Town.found_place_types" title="Link to this definition"></a></dt>
<dd><p>Place types actually present in this town network.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.Town.accommodation_node_ids">
<span class="sig-name descname"><span class="pre">accommodation_node_ids</span></span><a class="headerlink" href="#simcronomicon.town.Town.accommodation_node_ids" title="Link to this definition"></a></dt>
<dd><p>Node IDs of all accommodation locations where agents can reside.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create town from geographic coordinates (Aachen, Germany)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">town_params</span> <span class="o">=</span> <span class="n">TownParameters</span><span class="p">(</span><span class="n">num_pop</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">num_init_spreader</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">town</span> <span class="o">=</span> <span class="n">Town</span><span class="o">.</span><span class="n">from_point</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">point</span><span class="o">=</span><span class="p">[</span><span class="mf">50.7753</span><span class="p">,</span> <span class="mf">6.0839</span><span class="p">],</span>  <span class="c1"># Aachen Dom coordinates</span>
<span class="gp">... </span>    <span class="n">dist</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>  <span class="c1"># 1km radius</span>
<span class="gp">... </span>    <span class="n">town_params</span><span class="o">=</span><span class="n">town_params</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load previously saved town</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">town</span> <span class="o">=</span> <span class="n">Town</span><span class="o">.</span><span class="n">from_files</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">config_path</span><span class="o">=</span><span class="s2">&quot;town_config.json&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">town_graph_path</span><span class="o">=</span><span class="s2">&quot;town_graph.graphmlz&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">town_params</span><span class="o">=</span><span class="n">town_params</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Examine town properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Town has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">town</span><span class="o">.</span><span class="n">town_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span><span class="si">}</span><span class="s2"> locations&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Place types found: </span><span class="si">{</span><span class="n">town</span><span class="o">.</span><span class="n">found_place_types</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accommodation nodes: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">town</span><span class="o">.</span><span class="n">accommodation_node_ids</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The town network uses shortest-path distances calculated from road network
edges rather than Euclidean distances to provide realistic travel times
between locations. These distances are computed by finding the shortest
route along actual roads and pathways connecting places.</p></li>
<li><p>All shortest paths between every pair of places are pre-calculated during
town creation, and the resulting simplified graph stores these distances
as direct edge weights. This optimization dramatically reduces computational
overhead during simulation steps, as agent movement only requires looking
up neighboring edge weights rather than performing path searches.</p></li>
<li><p>This pre-computation approach is especially beneficial when running multiple
simulations in the same location or simulations with many agents and timesteps,
as the expensive shortest-path calculations are done once during town creation.</p></li>
<li><p>Building centroids are mapped to nearest road network nodes to ensure
all locations are accessible via the street network.</p></li>
<li><p>Custom place classification functions can be provided to adapt the
categorization system to specific research needs.</p></li>
<li><p>Town networks are automatically saved in compressed GraphMLZ format
along with JSON config_data for efficient storage and reuse. These output
files serve as input files for the Simulation class, enabling rapid
simulation setup without re-downloading or re-processing OpenStreetMap data.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">raises ValueError<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the specified point coordinates are invalid, if no relevant
    locations remain after filtering, or if initial spreader nodes
    don’t exist in the network.</p>
</dd>
<dt class="field-even">raises TypeError<span class="colon">:</span></dt>
<dd class="field-even"><p>If the place classification function is not callable or if required
    parameters are missing when using custom classification.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="simcronomicon.town.Town.from_files">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">town_graph_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">town_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simcronomicon.town.Town.from_files" title="Link to this definition"></a></dt>
<dd><p>Load a previously saved town network from compressed files.</p>
<p>Reconstructs a Town object from GraphMLZ and JSON configuration files created
by a previous call to from_point(). This method enables rapid simulation
setup without re-downloading or re-processing OpenStreetMap data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config_path</strong> (<em>str</em>) – Path to the JSON configuration file containing town configuration and
place type information.</p></li>
<li><p><strong>town_graph_path</strong> (<em>str</em>) – Path to the compressed GraphMLZ file containing the spatial network.</p></li>
<li><p><strong>town_params</strong> (<a class="reference internal" href="#simcronomicon.town.TownParameters" title="simcronomicon.town.TownParameters"><em>TownParameters</em></a>) – Configuration object containing population size, initial spreader count,
and spreader node locations for the simulation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Town object with loaded spatial network and config_data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#simcronomicon.town.Town" title="simcronomicon.town.Town">Town</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If spreader nodes specified in town_params don’t exist in the
    loaded network.</p></li>
<li><p><strong>FileNotFoundError</strong> – If the specified files don’t exist.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">town_params</span> <span class="o">=</span> <span class="n">TownParameters</span><span class="p">(</span><span class="n">num_pop</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">num_init_spreader</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">town</span> <span class="o">=</span> <span class="n">Town</span><span class="o">.</span><span class="n">from_files</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">config_path</span><span class="o">=</span><span class="s2">&quot;./data/aachen_dom_config.json&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">town_graph_path</span><span class="o">=</span><span class="s2">&quot;./data/aachen_dom.graphmlz&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">town_params</span><span class="o">=</span><span class="n">town_params</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simcronomicon.town.Town.from_point">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">town_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classify_place_func=&lt;function</span> <span class="pre">classify_place&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_place_types=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix='town_graph'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_dir='.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simcronomicon.town.Town.from_point" title="Link to this definition"></a></dt>
<dd><p>Create a town network from OpenStreetMap data centered on a geographic point.</p>
<p>Downloads road network and building data from OpenStreetMap, processes building
geometries, classifies places by type, and constructs a simplified graph with
pre-computed shortest-path distances between all locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>point</strong> (<em>list</em><em> or </em><em>tuple</em>) – Geographic coordinates [latitude, longitude] defining the center point
for data extraction.</p></li>
<li><p><strong>dist</strong> (<em>float</em>) – Radius in meters around the point to extract data. Defines the spatial
extent of the town network.</p></li>
<li><p><strong>town_params</strong> (<a class="reference internal" href="#simcronomicon.town.TownParameters" title="simcronomicon.town.TownParameters"><em>TownParameters</em></a>) – Configuration object containing population size, initial spreader count,
and spreader node locations.</p></li>
<li><p><strong>classify_place_func</strong> (<em>callable</em><em>, </em><em>optional</em>) – Function to classify building types into place categories. Must accept
a pandas row and return a place type string (default: classify_place).</p></li>
<li><p><strong>all_place_types</strong> (<em>list</em><em>, </em><em>optional</em>) – List of all possible place type categories. Required when using custom
classify_place_func (default: None).</p></li>
<li><p><strong>file_prefix</strong> (<em>str</em><em>, </em><em>optional</em>) – Prefix for output files (default: “town_graph”).</p></li>
<li><p><strong>save_dir</strong> (<em>str</em><em>, </em><em>optional</em>) – Directory to save compressed graph and configuration files (default: “.”).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Town object with populated spatial network and config_data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#simcronomicon.town.Town" title="simcronomicon.town.Town">Town</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If point coordinates are invalid, no relevant nodes remain after
    filtering, or spreader nodes don’t exist in the network.</p></li>
<li><p><strong>TypeError</strong> – If classify_place_func is not callable or required parameters are missing.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">town_params</span> <span class="o">=</span> <span class="n">TownParameters</span><span class="p">(</span><span class="n">num_pop</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">num_init_spreader</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">town</span> <span class="o">=</span> <span class="n">Town</span><span class="o">.</span><span class="n">from_point</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">point</span><span class="o">=</span><span class="p">[</span><span class="mf">50.7753</span><span class="p">,</span> <span class="mf">6.0839</span><span class="p">],</span>  <span class="c1"># Aachen Dom</span>
<span class="gp">... </span>    <span class="n">dist</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">town_params</span><span class="o">=</span><span class="n">town_params</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">file_prefix</span><span class="o">=</span><span class="s2">&quot;aachen_dom&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">save_dir</span><span class="o">=</span><span class="s2">&quot;./data&quot;</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simcronomicon.town.Town.save_to_files">
<span class="sig-name descname"><span class="pre">save_to_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simcronomicon.town.Town.save_to_files" title="Link to this definition"></a></dt>
<dd><p>Save this Town object to GraphML and config files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_prefix</strong> (<em>str</em>) – Prefix for the output files (will create {prefix}.graphmlz and {prefix}_config.json)</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to overwrite existing files</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(graphml_path, config_path) - paths to the created files</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[str, str]</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="simcronomicon.town.TownParameters">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simcronomicon.town.</span></span><span class="sig-name descname"><span class="pre">TownParameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_pop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_init_spreader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spreader_initial_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simcronomicon.town.TownParameters" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Parameters for town network initialization and agent placement.</p>
<p>Validates and stores population size, initial spreader count, and optional
spreader node locations for the simulation set up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_pop</strong> (<em>int</em>) – Total population size for the simulation. Must be a positive integer (&gt; 0).
Determines the number of agents that will be created and distributed across
accommodation nodes in the town network.</p></li>
<li><p><strong>num_init_spreader</strong> (<em>int</em>) – Number of initial disease spreaders at simulation start. Must be a positive
integer (&gt; 0) and cannot exceed num_pop. These agents begin the simulation
in an infected state to seed the epidemic spread.</p></li>
<li><p><strong>spreader_initial_nodes</strong> (<em>list</em><em> of </em><em>int</em><em>, </em><em>optional</em>) – <p>Specific node IDs where initial spreaders should be placed. This list can be:</p>
<ul>
<li><p><strong>Empty</strong> (default): All spreaders will be randomly assigned to accommodation nodes</p></li>
<li><p><strong>Partial</strong>: Contains fewer nodes than num_init_spreader; remaining spreaders
will be randomly assigned to accommodation nodes</p></li>
<li><p><strong>Complete</strong>: Contains exactly num_init_spreader nodes for full control</p></li>
<li><p><strong>With duplicates</strong>: Same node ID can appear multiple times to place multiple
spreaders at the same location</p></li>
</ul>
<p>Node IDs must be integers or convertible to integers. The list length must not
exceed num_init_spreader (len(spreader_initial_nodes) ≤ num_init_spreader).</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.TownParameters.num_pop">
<span class="sig-name descname"><span class="pre">num_pop</span></span><a class="headerlink" href="#simcronomicon.town.TownParameters.num_pop" title="Link to this definition"></a></dt>
<dd><p>Validated total population size.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.TownParameters.num_init_spreader">
<span class="sig-name descname"><span class="pre">num_init_spreader</span></span><a class="headerlink" href="#simcronomicon.town.TownParameters.num_init_spreader" title="Link to this definition"></a></dt>
<dd><p>Validated number of initial spreaders.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.town.TownParameters.spreader_initial_nodes">
<span class="sig-name descname"><span class="pre">spreader_initial_nodes</span></span><a class="headerlink" href="#simcronomicon.town.TownParameters.spreader_initial_nodes" title="Link to this definition"></a></dt>
<dd><p>Validated list of spreader node locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If parameters are not of expected types or nodes not convertible to int.</p></li>
<li><p><strong>ValueError</strong> – If values are non-positive, spreaders exceed population, or too many
    node locations specified.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Basic configuration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">TownParameters</span><span class="p">(</span><span class="n">num_pop</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">num_init_spreader</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># With specific spreader locations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">TownParameters</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">num_pop</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">num_init_spreader</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">spreader_initial_nodes</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">47</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Partial specification with duplicates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">TownParameters</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">num_pop</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">num_init_spreader</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">spreader_initial_nodes</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>  <span class="c1"># 3 of 5 spreaders specified</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="simcronomicon.town.classify_place">
<span class="sig-prename descclassname"><span class="pre">simcronomicon.town.</span></span><span class="sig-name descname"><span class="pre">classify_place</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simcronomicon.town.classify_place" title="Link to this definition"></a></dt>
<dd><p>Classify an OpenStreetMap point of interest into a place type category.</p>
<p>This default function examines OSM tags for buildings, amenities, land use, etc.
and determines the appropriate functional category for simulation purposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>row</strong> (<em>pandas.Series</em>) – A row from a GeoDataFrame containing OpenStreetMap tags.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Place type category from PLACE_TYPES list.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Classification hierarchy:</p>
<ol class="arabic">
<li><p>accommodation*compulsory for every model): Residential buildings where agents live
- Identified by building tags like ‘residential’, ‘apartments’, ‘house’, etc.</p></li>
<li><dl class="simple">
<dt>healthcare_facility(compulsory for models with vaccination and/or symptom treatments):</dt><dd><p>Hospitals, clinics, pharmacies</p>
</dd>
</dl>
<ul class="simple">
<li><p>Identified by building, healthcare, amenity tags, or emergency=yes</p></li>
</ul>
</li>
<li><p>commercial: Shops, restaurants, banks
- Identified by retail/service building types or commercial amenities</p></li>
<li><p>workplace: Offices, factories, industrial areas
- Identified by office/industrial buildings and land use</p></li>
<li><p>education: Schools, universities
- Identified by educational building and amenity types</p></li>
<li><p>religious: Churches, mosques, temples
- Identified by religious building types or land use</p></li>
<li><p>other: Default fallback for unclassified locations
- Any point that doesn’t match the above criteria</p>
<blockquote>
<div><p>We are not going to consider these unclassified locations in general.
You can, however, with your own custom classification, assign the
unknown nodes to be any other plaec types randomly if you wish to also
include them in the simulation.</p>
</div></blockquote>
</li>
</ol>
<p>Classification uses the PLACE_TYPE_CRITERIA dictionary that maps
place types to relevant OSM tags.</p>
<p>It is also important to note that you can also customize your own classification
function according to OSM taggings in your area of interest if you
have more place types you want to use in your simulation or that you notice that
our classification criteria isn’t inclusive enough for your area of interest.</p>
</dd></dl>

</section>
<section id="infection-models">
<h2>Infection models<a class="headerlink" href="#infection-models" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="simcronomicon.infection_models.html">simcronomicon.infection_models package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.infection_models.html#core-building-blocks">Core Building Blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.infection_models.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.infection_models.html#module-simcronomicon.infection_models.abstract_model">simcronomicon.infection_models.abstract_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.infection_models.html#module-simcronomicon.infection_models.step_event">simcronomicon.infection_models.step_event module</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.infection_models.html#module-simcronomicon.infection_models.SEIQRDV_model">simcronomicon.infection_models.SEIQRDV_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.infection_models.html#module-simcronomicon.infection_models.SEIR_model">simcronomicon.infection_models.SEIR_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.infection_models.html#module-simcronomicon.infection_models.SEIsIrR_model">simcronomicon.infection_models.SEIsIrR_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.infection_models.html#define-your-own-model">Define Your Own Model</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="module-simcronomicon.sim">
<span id="simulation-structure"></span><h2>Simulation structure<a class="headerlink" href="#module-simcronomicon.sim" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="simcronomicon.sim.Simulation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simcronomicon.sim.</span></span><span class="sig-name descname"><span class="pre">Simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">town</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infection_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timesteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5710</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simcronomicon.sim.Simulation" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Agent-based simulation engine for epidemic modeling in spatial networks.</p>
<p>The Simulation class implements an agent-based modeling (ABM) framework that applies
transition rules according to user-defined infection models. Agents move through
a spatial town network, interact with each other and their environment, and undergo
state transitions based on the rules defined in the chosen infection model.</p>
<section id="id1">
<h3>Purpose<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Initialize Population</strong>: Distribute agents across the town network according to
user-specified parameters, including initial spreader locations and population size.</p></li>
<li><p><strong>Agent Movement</strong>: Move agents through the city during simulation timesteps based
on step events that define mobility patterns and destination preferences.</p></li>
<li><p><strong>Agent Interactions</strong>: Enable agent-to-agent and agent-to-environment interactions
at each location according to the rules defined in the infection model.</p></li>
<li><p><strong>State Transitions</strong>: Apply infection model transition rules (e.g., S→E→I→R)
based on agent interactions, environmental factors, and time-dependent processes.</p></li>
<li><p><strong>Temporal Dynamics</strong>: Execute simulation in discrete timesteps, where each step
consists of multiple events, and agents return home after each complete step.</p></li>
</ol>
</section>
<section id="simulation-workflow">
<h3>Simulation Workflow<a class="headerlink" href="#simulation-workflow" title="Link to this heading"></a></h3>
<p>Each simulation timestep follows this pattern:</p>
<ol class="arabic simple">
<li><p><strong>Event Execution</strong>: For each step event in the current timestep:
- Reset agent locations (clear previous positions)
- Execute event-specific movement (DISPERSE) or actions (SEND_HOME)
- Apply infection model rules for agent interactions
- Record population status and individual agent states</p></li>
<li><p><strong>Agent Movement</strong>: During DISPERSE events:
- Agents move to locations within their travel distance
- Movement considers place type preferences and priority destinations
- Probability functions can influence destination selection</p></li>
<li><p><strong>Interactions</strong>: At each active location:
- Agents interact according to infection model rules
- Environmental factors (place type) influence interaction outcomes
- State transitions occur based on model-specific probabilities</p></li>
<li><p><strong>Home Reset</strong>: After all events, agents return to their home addresses</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">param town<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Town object representing the spatial network with nodes (locations)
and edges (travel routes) where the simulation takes place.</p>
</dd>
<dt class="field-even">type town<span class="colon">:</span></dt>
<dd class="field-even"><p>Town</p>
</dd>
<dt class="field-odd">param infection_model<span class="colon">:</span></dt>
<dd class="field-odd"><p>The infection model instance (e.g., SEIRModel, SEIQRDVModel) that
defines agent states, transition rules, and interaction behaviors.</p>
</dd>
<dt class="field-even">type infection_model<span class="colon">:</span></dt>
<dd class="field-even"><p>AbstractInfectionModel</p>
</dd>
<dt class="field-odd">param timesteps<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of discrete timesteps to run the simulation.</p>
</dd>
<dt class="field-even">type timesteps<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">param seed<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether to set random seeds for reproducible results (default: True).</p>
</dd>
<dt class="field-even">type seed<span class="colon">:</span></dt>
<dd class="field-even"><p>bool, optional</p>
</dd>
<dt class="field-odd">param seed_value<span class="colon">:</span></dt>
<dd class="field-odd"><p>Random seed value for reproducibility (default: 5710).</p>
</dd>
<dt class="field-even">type seed_value<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.sim.Simulation.folks">
<span class="sig-name descname"><span class="pre">folks</span></span><a class="headerlink" href="#simcronomicon.sim.Simulation.folks" title="Link to this definition"></a></dt>
<dd><p>List of AbstractFolk (agent) objects representing the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.sim.Simulation.town">
<span class="sig-name descname"><span class="pre">town</span></span><a class="headerlink" href="#simcronomicon.sim.Simulation.town" title="Link to this definition"></a></dt>
<dd><p>The spatial network where agents live and move.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#simcronomicon.town.Town" title="simcronomicon.town.Town">Town</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.sim.Simulation.model">
<span class="sig-name descname"><span class="pre">model</span></span><a class="headerlink" href="#simcronomicon.sim.Simulation.model" title="Link to this definition"></a></dt>
<dd><p>The infection model governing agent behavior and transitions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="simcronomicon.infection_models.html#simcronomicon.infection_models.abstract_model.AbstractInfectionModel" title="simcronomicon.infection_models.abstract_model.AbstractInfectionModel">AbstractInfectionModel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.sim.Simulation.step_events">
<span class="sig-name descname"><span class="pre">step_events</span></span><a class="headerlink" href="#simcronomicon.sim.Simulation.step_events" title="Link to this definition"></a></dt>
<dd><p>Sequence of events that occur in each timestep.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.sim.Simulation.active_node_indices">
<span class="sig-name descname"><span class="pre">active_node_indices</span></span><a class="headerlink" href="#simcronomicon.sim.Simulation.active_node_indices" title="Link to this definition"></a></dt>
<dd><p>Set of town nodes currently occupied by agents.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="simcronomicon.sim.Simulation.status_dicts">
<span class="sig-name descname"><span class="pre">status_dicts</span></span><a class="headerlink" href="#simcronomicon.sim.Simulation.status_dicts" title="Link to this definition"></a></dt>
<dd><p>Historical record of population status counts at each timestep.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">raises ValueError<span class="colon">:</span></dt>
<dd class="field-odd"><p>If required place types for the chosen infection model are missing
    in the town data. This ensures model-specific locations (e.g., healthcare
    facilities for medical models) are available in the spatial network.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create town and model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">town</span> <span class="o">=</span> <span class="n">Town</span><span class="o">.</span><span class="n">from_point</span><span class="p">(</span><span class="n">point</span><span class="o">=</span><span class="p">[</span><span class="mf">50.7753</span><span class="p">,</span> <span class="mf">6.0839</span><span class="p">],</span> <span class="n">dist</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">town_params</span><span class="o">=</span><span class="n">TownParameters</span><span class="p">(</span><span class="n">num_pop</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">num_init_spreader</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_params</span> <span class="o">=</span> <span class="n">SEIRModelParameters</span><span class="p">(</span><span class="n">max_energy</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">xi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">SEIRModel</span><span class="p">(</span><span class="n">model_params</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Run simulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">(</span><span class="n">town</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">timesteps</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">hdf5_path</span><span class="o">=</span><span class="s2">&quot;epidemic_simulation.h5&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The simulation saves detailed results to HDF5 format, including population
summaries and individual agent trajectories.</p></li>
<li><p>Agent energy levels affect movement capability and interaction potential.</p></li>
<li><p>Movement restrictions (e.g., quarantine) can limit agent mobility while
still allowing interactions with visiting agents.</p></li>
<li><p>The simulation automatically terminates early if no infected agents remain.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="simcronomicon.sim.Simulation.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdf5_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'simulation_output.h5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simcronomicon.sim.Simulation.run" title="Link to this definition"></a></dt>
<dd><p>Run the simulation for the specified number of timesteps.</p>
<p>The simulation results are saved to an HDF5 file with the following structure:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>simulation_output.h5
├── config
│   ├── simulation_config   (JSON-encoded simulation config)
│   └── town_config         (JSON-encoded town config)
├── status_summary
│   └── summary               (dataset: structured array with timestep, current_event, and statuses)
└── individual_logs
    └── log                   (dataset: structured array with timestep, event, folk_id, status, address)
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hdf5_path</strong> (<em>str</em>) – Path to the output HDF5 file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="visualization">
<h2>Visualization<a class="headerlink" href="#visualization" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="simcronomicon.visualization.html">simcronomicon.visualization package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.visualization.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.visualization.html#module-simcronomicon.visualization.plot_status_summary">simcronomicon.visualization.plot_status_summary module</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.visualization.html#module-simcronomicon.visualization.plot_scatter">simcronomicon.visualization.plot_scatter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="simcronomicon.visualization.html#module-simcronomicon.visualization">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="create_custom_infection.html" class="btn btn-neutral float-left" title="Creating Custom Infection Models: Building an SIR Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="simcronomicon.infection_models.html" class="btn btn-neutral float-right" title="simcronomicon.infection_models package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Warisa Roongaraya.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>